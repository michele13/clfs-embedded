<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
  "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../general.ent">
  %general-entities;
]>

<sect1 id="ch-cleanup-remove-files">
  <?dbhtml filename="remove-files.html"?>

  <title>Remove Unnecessary Files</title>

  <para>The system is almost finished.  It can be made smaller by removing
  files that are not necessary.</para>

  <para>Create a copy of the file system in case changes need to be made
  to it later:</para>

<screen><userinput>install -dv ${CLFS}-final
cp -arv ${CLFS}/* ${CLFS}-final/</userinput></screen>

  <para>Remove files that aren't needed:</para>

<screen><userinput>rm -rfv ${CLFS}-final/cross-tools
rm -rfv ${CLFS}-final/usr/src/*
rm -rfv ${CLFS}-final/usr/include
rm -rfv ${CLFS}-final/usr/man
rm -rfv ${CLFS}-final/usr/share/man
rm -rfv ${CLFS}-final/build
rm -rfv ${CLFS}-final/sources</userinput></screen>

  <para>Remove the static libaries:</para>

<screen><userinput>FILES="$(ls ${CLFS}-final/lib/*.a ${CLFS}-final/usr/lib/*.a)"
for file in $FILES; do
 rm -fv $file
done</userinput></screen>

</sect1>
